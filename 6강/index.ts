// âœ¨ íƒ€ì… í™•ì •í•˜ê¸° Narrowing & Assertion

// Narrowing ë¬¸ë²• ğŸ‘‰ íƒ€ì…ì„ í™•ì¸í•´ì„œ ê¸°ëŠ¥ì„ ë¶€ì—¬í•œë‹¤.
function solution(x: number | string) {
    let array: number[] = [];
    if (typeof x === "number") {
        array[0] = x;
    }
}
solution(123);

// Assertion ë¬¸ë²•(as) ğŸ‘‰ íƒ€ì… ë®ì–´ì“°ê¸°
// ìœ ë‹ˆì˜¨íƒ€ì…ì˜ íŒŒë¼ë¯¸í„° ë’¤ì— as + 'ìë£Œí˜•'ì„ ë¶™ì´ë©´ ìë£Œí˜•ì„ ì •í•´ì„œ ë„£ì–´ì¤„ ìˆ˜ ìˆë‹¤. ë¶ˆí•„ìš”í•œ ifë¬¸ê³¼ typeofë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
// âœ¨ assertion ë¬¸ë²•ì˜ ìš©ë„ : ë‘ê°€ì§€ ì´ìƒì˜ ìë£Œí˜• ì¤‘ í•˜ë‚˜ë¥¼ ê³ ë¥¼ ë•Œë§Œ ì‚¬ìš©í•œë‹¤. í•œê°€ì§€ ìë£Œí˜•ì„ ë‹¤ë¥¸ ìë£Œí˜•ìœ¼ë¡œ ë°”ê¾¸ëŠ”ê²Œ ì•„ë‹ˆë‹¤.
function solution2(x: number | string) {
    let array: number[] = [];
    array[0] = x as number;
}
solution2(123);

// (ìˆ™ì œ1) ìˆ«ìì—¬ëŸ¬ê°œë¥¼ array ìë£Œì— ì €ì¥í•´ë†¨ëŠ”ë°
// ê°€ë” '4', '5' ì´ëŸ° ì‹ì˜ ë¬¸ìíƒ€ì…ì˜ ìˆ«ìê°€ ë°œê²¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.
// ì´ê±¸ í´ë¦¬ë‹í•´ì£¼ëŠ” í•¨ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
// í´ë¦¬ë‹í•¨ìˆ˜( ['1', 2, '3'] ) ì´ë ‡ê²Œ ìˆ«ìì™€ ë¬¸ìê°€ ì„ì¸ arrayë¥¼ ì…ë ¥í•˜ë©´
// [1,2,3] ì´ë ‡ê²Œ ìˆ«ìë¡œ ê¹”ë”í•˜ê²Œ ë³€í™˜ë˜ì–´ ë‚˜ì˜¤ëŠ” í´ë¦¬ë‹í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì˜¤ê³  íƒ€ì…ì§€ì •ê¹Œì§€ í™•ì‹¤íˆ í•´ë³´ì‹­ì‹œì˜¤.
function solution3(numArr: (string | number)[]) {
    let newArr: number[] = [];
    numArr.forEach((v) => {
        newArr.push(+v);
    });
}
solution3(["1", 2, "3"]);

// (ìˆ™ì œ2) ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ì‹­ì‹œì˜¤.
// ì§€ê¸ˆ ì—¬ëŸ¬ ë³€ìˆ˜ì— ì„ ìƒë‹˜ì´ ê°€ë¥´ì¹˜ê³  ìˆëŠ” ê³¼ëª©ì´ ì €ì¥ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤.
// ê³¼ëª© 1ê°œë§Œ ê°€ë¥´ì¹˜ëŠ” ìŒ¤ë“¤ì€ ë¬¸ì í•˜ë‚˜ë¡œ ê³¼ëª©ì´ ì €ì¥ì´ ë˜ì–´ìˆê³ 
// ê³¼ëª© 2ê°œ ì´ìƒ ê°€ë¥´ì¹˜ëŠ” ìŒ¤ë“¤ì€ array ìë£Œë¡œ ê³¼ëª©ë“¤ì´ ì €ì¥ë˜ì–´ìˆìŠµë‹ˆë‹¤.

// ì² ìˆ˜ìŒ¤ê°™ì€ ì„ ìƒë‹˜ object ìë£Œë¥¼ ì§‘ì–´ë„£ìœ¼ë©´
// ê·¸ ì„ ìƒë‹˜ì´ ê°€ë¥´ì¹˜ê³  ìˆëŠ” ê³¼ëª©ì¤‘ ë§¨ ë’¤ì˜ 1ê°œë¥¼ return í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë´…ì‹œë‹¤.
// ê·¸ë¦¬ê³  íƒ€ì…ì§€ì •ë„ ì—„ê²©í•˜ê²Œ í•´ë³´ë„ë¡ í•©ì‹œë‹¤.
function solution4(x: { subject: string | string[] }) {
    if (typeof x.subject === "string") {
        return x.subject;
    } else if (Array.isArray(x.subject)) {
        return x.subject[x.subject.length - 1];
    }
}

let ì² ìˆ˜ìŒ¤ = { subject: "math" };
let ì˜í¬ìŒ¤ = { subject: ["science", "english"] };
let ë¯¼ìˆ˜ìŒ¤ = { subject: ["science", "art", "korean"] };
console.log(solution4(ë¯¼ìˆ˜ìŒ¤));
